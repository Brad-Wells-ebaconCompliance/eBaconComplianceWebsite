<div id="tscSite">

  <style>
    /* =========================================================
       PREMIUM THEME (light background + strong contrast)
       ========================================================= */
    #tscSite, #tscSite * { box-sizing: border-box; }
    #tscSite{
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color: #081b1a;

      --accent:#0b8f8f;
      --accent2:#11b5b5;
      --ink: rgba(8,27,26,.94);
      --muted: rgba(8,27,26,.70);
      --border: rgba(8,27,26,.12);

      --shadow: 0 18px 45px rgba(2,10,10,.14);
      --shadowSoft: 0 10px 22px rgba(2,10,10,.09);
      --ring: 0 0 0 4px rgba(17,181,181,.18);

      --radiusXL: 26px;
      --radiusLG: 22px;
      --radiusMD: 16px;

      --max: 1180px;

      /* ✅ Replace this with YOUR banner image (Power Pages web file URL is fine) */
      --heroImg: url("https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=2400&q=80");
    }

    /* Page background (light, premium) */
    #tscSite{
      background:
        radial-gradient(1000px 560px at 12% 8%, rgba(17,181,181,.10), rgba(17,181,181,0) 60%),
        radial-gradient(900px 520px at 88% 14%, rgba(0,0,0,.07), rgba(0,0,0,0) 55%),
        linear-gradient(180deg,#f8fafc,#f1f5f9 45%, #ffffff);
      padding-bottom: 44px;
    }

    /* =========================================================
       TOP NAV (frosted like your screenshot)
       ========================================================= */
    .tscNavWrap{
      position: sticky;
      top: 0;
      z-index: 9999;
      background: rgba(255,255,255,.62);
      border-bottom: 1px solid rgba(255,255,255,.20);
      backdrop-filter: blur(12px) saturate(1.2);
      -webkit-backdrop-filter: blur(12px) saturate(1.2);
    }

    .tscNav{
      max-width: var(--max);
      margin: 0 auto;
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 16px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 260px;
    }

    /* Inline logo container */
    .brandMark{
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 16px;
      background: rgba(255,255,255,.55);
      border: 1px solid rgba(255,255,255,.28);
      box-shadow: 0 14px 26px rgba(0,0,0,.10);
    }

    .brandText{
      font-weight: 1000;
      font-size: 24px;
      letter-spacing: .2px;
      color: rgba(20,20,20,.88);
      line-height: 1;
      user-select:none;
    }
    .brandText .e{ opacity:.78; font-weight: 950; }
    .brandText .b{ opacity:.88; font-weight: 1050; }

    .brandTag{
      margin-top: 4px;
      font-size: 12px;
      font-weight: 750;
      color: rgba(20,20,20,.68);
    }

    /* Nav links */
    .navLinks{
      display:flex;
      gap: 16px;
      align-items:center;
      justify-content:flex-end;
      flex-wrap: wrap;
    }
    .navLinks a{
      text-decoration:none;
      color: rgba(20,20,20,.82);
      font-weight: 800;
      font-size: 14px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: background .12s ease, transform .12s ease, border-color .12s ease;
      user-select:none;
    }
    .navLinks a:hover{
      background: rgba(255,255,255,.65);
      border-color: rgba(255,255,255,.35);
      transform: translateY(-1px);
    }

    /* Start button */
    .navBtn{
      height: 44px;
      padding: 0 18px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.24);
      background: linear-gradient(180deg, rgba(17,181,181,.55), rgba(11,143,143,.45));
      color: #fff;
      font-weight: 1000;
      font-size: 18px;
      cursor:pointer;
      box-shadow: 0 20px 30px rgba(0,0,0,.18);
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      white-space: nowrap;
    }
    .navBtn:hover{ transform: translateY(-1px); filter: brightness(1.03); }
    .navBtn .arrow{ margin-left: 8px; font-weight: 1100; }

    /* =========================================================
       HERO (matches the “image style” you showed)
       ========================================================= */
    .hero{
      width: 100%;
      min-height: 540px;
      background-image: var(--heroImg);
      background-size: cover;
      background-position: center;
      position: relative;
      overflow:hidden;
    }

    /* Dark, cinematic overlay + subtle vertical streak effect */
    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(900px 520px at 52% 36%, rgba(0,0,0,.52), rgba(0,0,0,.20) 62%, rgba(0,0,0,.18)),
        linear-gradient(90deg, rgba(0,0,0,.55), rgba(0,0,0,.22) 55%, rgba(0,0,0,.20));
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        repeating-linear-gradient(
          90deg,
          rgba(255,255,255,.06) 0px,
          rgba(255,255,255,.02) 12px,
          rgba(255,255,255,0) 26px
        );
      opacity:.16;
      mix-blend-mode: overlay;
      pointer-events:none;
    }

    .heroInner{
      position: relative;
      z-index: 1;
      max-width: var(--max);
      margin: 0 auto;
      padding: 88px 16px 80px;
      min-height: 540px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }

    .heroCopy{
      max-width: 860px;
      color: #fff;
    }

    .heroH{
      margin:0;
      font-size: 64px;
      font-weight: 1050;
      letter-spacing: .2px;
      line-height: 1.06;
      text-shadow: 0 12px 30px rgba(0,0,0,.35);
    }
    .heroP{
      margin: 16px auto 0;
      font-size: 18px;
      font-weight: 700;
      line-height: 1.55;
      max-width: 760px;
      color: rgba(255,255,255,.86);
      text-shadow: 0 10px 24px rgba(0,0,0,.25);
    }

    .heroCtas{
      margin-top: 24px;
      display:flex;
      justify-content:center;
      gap: 14px;
      flex-wrap: wrap;
      align-items:center;
    }

    .heroBtn{
      height: 58px;
      padding: 0 22px;
      border-radius: 20px;
      font-weight: 1000;
      font-size: 18px;
      cursor:pointer;
      border: 1px solid rgba(255,255,255,.22);
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      box-shadow: 0 22px 30px rgba(0,0,0,.22);
    }

    .heroBtn.primary{
      background: linear-gradient(180deg, rgba(17,181,181,.95), rgba(11,143,143,.92));
      color:#fff;
    }
    .heroBtn.secondary{
      background: linear-gradient(180deg, rgba(255,255,255,.32), rgba(255,255,255,.20));
      color:#fff;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .heroBtn:hover{ transform: translateY(-1px); filter: brightness(1.03); }

    /* =========================================================
       CONTENT SECTION WRAPPER
       ========================================================= */
    .section{
      max-width: var(--max);
      margin: 0 auto;
      padding: 22px 16px 0;
    }

    .sectionTitle{
      margin: 0;
      font-size: 26px;
      font-weight: 1050;
      letter-spacing: .2px;
      color: rgba(8,27,26,.92);
    }

    .sectionSub{
      margin: 10px 0 0;
      font-size: 14px;
      font-weight: 750;
      color: rgba(8,27,26,.70);
      line-height: 1.55;
      max-width: 880px;
    }

    /* =========================================================
       FEATURE TILES (like your attached “Getting started” image)
       ========================================================= */
    .tiles{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    .tile{
      border-radius: 22px;
      border: 1px solid rgba(0,0,0,.06);
      background: linear-gradient(180deg,#ffffff,#f7fbfb);
      box-shadow: var(--shadowSoft);
      padding: 16px;
      min-height: 122px;
    }
    .tileTop{ display:flex; align-items:center; gap:12px; margin-bottom: 8px; }
    .ico{
      width: 44px; height: 44px;
      border-radius: 16px;
      display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(17,181,181,.18), rgba(11,143,143,.08));
      border: 1px solid rgba(11,143,143,.16);
      box-shadow: 0 10px 16px rgba(2,10,10,.08);
      flex:0 0 auto;
    }
    .tileH{ margin:0; font-size: 14px; font-weight: 1000; color: rgba(8,27,26,.92); }
    .tileP{ margin:0; font-size: 13px; font-weight: 750; color: rgba(8,27,26,.72); line-height: 1.35; }

    /* =========================================================
       CALCULATOR CARD
       ========================================================= */
    .calcWrap{ padding: 18px 0 0; }

    .calcCard{
      border-radius: var(--radiusXL);
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: var(--shadow);
      background:
        radial-gradient(1000px 520px at 12% 0%, rgba(17,181,181,.10), rgba(17,181,181,0) 58%),
        linear-gradient(180deg, #ffffff, #f6fbfb);
    }
    .accentBar{ height:10px; background: linear-gradient(90deg, var(--accent2), var(--accent)); }
    .calcInner{ padding: 18px; }

    .calcHead{
      padding: 14px;
      border-radius: 22px;
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(0,0,0,.05);
      box-shadow: var(--shadowSoft);
      display:flex;
      gap:12px;
      align-items:flex-start;
      margin-bottom: 14px;
    }
    .calcHeadIcon{
      width:46px;height:46px;border-radius:16px;
      display:flex;align-items:center;justify-content:center;
      background: linear-gradient(180deg, rgba(17,181,181,.18), rgba(11,143,143,.08));
      border: 1px solid rgba(11,143,143,.16);
      box-shadow: 0 10px 16px rgba(2,10,10,.08);
      flex: 0 0 auto;
      margin-top:1px;
    }
    .calcTitle{
      margin:0;
      font-size: 26px;
      font-weight: 1050;
      letter-spacing:.2px;
      color: rgba(8,27,26,.94);
      line-height:1.15;
    }
    .calcSub{
      margin: 8px 0 0;
      font-size: 13px;
      font-weight: 750;
      color: rgba(8,27,26,.70);
      line-height: 1.35;
    }

    .band{
      border-radius: var(--radiusLG);
      padding: 14px 16px;
      margin-top: 14px;
      background: linear-gradient(180deg,#fff,#f7fbfb);
      border: 1px solid rgba(0,0,0,.06);
      box-shadow: var(--shadowSoft);
    }
    .band:first-of-type{ margin-top: 0; }

    .bandHead{
      display:flex; align-items:center; gap:10px;
      padding-bottom: 12px;
      margin-bottom: 12px;
      border-bottom: 1px solid rgba(0,0,0,.06);
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(180deg,var(--accent2),var(--accent));
      box-shadow: 0 0 0 4px rgba(17,181,181,.10);
      flex: 0 0 auto;
    }
    .bandTitle{ margin:0; font-size: 14px; font-weight: 1000; color: rgba(8,27,26,.92); }
    .bandDesc{ margin:2px 0 0; font-size: 12px; font-weight: 750; color: rgba(8,27,26,.70); }

    .grid{
      --right: 360px;
      display:grid;
      grid-template-columns: 1fr var(--right);
      gap: 12px 14px;
      align-items:center;
    }
    .label{ font-weight: 900; color: rgba(8,27,26,.92); }
    .req{ color:#c0392b; }
    .hint{
      display:block;
      margin-top:4px;
      font-size: 13px;
      font-weight: 750;
      color: rgba(8,27,26,.68);
      line-height: 1.25;
    }

    .companyBlock{ text-align:center; }
    .companyLabel{ display:block; font-weight:900; margin-bottom: 8px; color: rgba(8,27,26,.92); }

    .companyInput{
      width:min(720px,100%);
      height:54px;
      border-radius:16px;
      border:1px solid rgba(0,0,0,.10);
      padding: 12px 16px;
      font-size: 17px;
      font-weight: 750;
      background:#fff;
      text-align:center;
      outline:none;
      transition: box-shadow .12s ease, border-color .12s ease, transform .12s ease;
    }
    .companyInput:focus{ border-color: rgba(11,143,143,.45); box-shadow: var(--ring); transform: translateY(-1px); }

    .input{
      width: var(--right);
      height: 48px;
      border-radius: 14px;
      border:1px solid rgba(0,0,0,.10);
      padding: 10px 14px;
      font-size: 16px;
      font-weight: 750;
      background:#fff;
      outline:none;
      text-align:center;
      transition: box-shadow .12s ease, border-color .12s ease, transform .12s ease;
    }
    .input:focus{ border-color: rgba(11,143,143,.45); box-shadow: var(--ring); transform: translateY(-1px); }

    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
    input[type="number"]{ -moz-appearance:textfield; appearance:textfield; }

    .wrap{
      position:relative;
      width: var(--right);
      justify-self:start;
    }
    .prefix,.suffix{
      position:absolute; top:50%; transform: translateY(-50%);
      font-weight: 1000; opacity:.72; pointer-events:none; color: rgba(8,27,26,.78);
    }
    .prefix{ left: 12px; }
    .suffix{ right: 12px; }
    .padPrefix{ padding-left: 36px !important; }
    .padSuffix{ padding-right: 52px !important; }

    .box{
      width: var(--right);
      background:#fff;
      border-radius: 16px;
      padding: 12px;
      border:1px solid rgba(0,0,0,.10);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.9);
    }
    .btns{ display:flex; justify-content:center; gap: 16px; flex-wrap:wrap; }
    .radio{ position:absolute; opacity:0; width:1px; height:1px; }

    .seg{
      height: 48px;
      min-width: 112px;
      border-radius: 999px;
      border:2px solid rgba(0,0,0,.14);
      background:#fff;
      font-weight: 1050;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      box-shadow: 0 10px 14px rgba(2,10,10,.06);
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
      color: rgba(8,27,26,.92);
      user-select:none;
    }
    .seg:hover{ transform: translateY(-1px); }
    .radio:checked + .seg{
      background: linear-gradient(180deg, rgba(17,181,181,.22), rgba(11,143,143,.12));
      border-color: rgba(11,143,143,.40);
      box-shadow: var(--ring), 0 16px 22px rgba(11,143,143,.08);
    }

    .instructions{
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 16px;
      background:#fff;
      border:1px solid rgba(0,0,0,.08);
      font-size: 14px;
      font-weight: 750;
      line-height: 1.45;
      color: rgba(8,27,26,.86);
    }

    .cta{ text-align:center; margin-top: 16px; }
    .btn{
      height: 60px;
      padding: 0 58px;
      border-radius: 20px;
      border: none;
      cursor:pointer;
      font-weight: 1050;
      font-size: 17px;
      letter-spacing: .4px;
      background: linear-gradient(180deg, rgba(17,181,181,.98), rgba(11,143,143,.96));
      color:#fff;
      box-shadow: 0 22px 30px rgba(11,143,143,.22);
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .btn[disabled]{ opacity:.65; cursor:not-allowed; transform:none; }

    .status{
      margin-top: 10px;
      text-align:center;
      font-size: 14px;
      font-weight: 750;
      min-height: 20px;
      color: rgba(8,27,26,.78);
    }
    .spin{
      display:inline-block;
      width:14px;height:14px;
      border-radius:999px;
      border:2px solid rgba(8,27,26,.22);
      border-top-color: rgba(11,143,143,.95);
      animation: spin .9s linear infinite;
      vertical-align:-2px;
      margin-right: 8px;
    }
    @keyframes spin { to{ transform: rotate(360deg); } }

    .total{
      margin-top: 14px;
      padding: 16px;
      border-radius: 22px;
      border:1px solid rgba(0,0,0,.08);
      background:
        radial-gradient(900px 320px at 12% 0%, rgba(17,181,181,.12), rgba(17,181,181,0) 55%),
        linear-gradient(180deg,#ffffff,#f4fbfa);
      box-shadow: 0 18px 30px rgba(2,10,10,.10);
      text-align:center;
    }
    .totalTop{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      color: rgba(8,27,26,.76);
      font-weight: 900;
    }
    .val{
      margin-top: 8px;
      font-size: 40px;
      font-weight: 1100;
      color: var(--accent);
      letter-spacing: .2px;
    }

    .footer{
      display:none;
      text-align:center;
      margin-top: 14px;
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.08);
      background:#fff;
      padding: 14px;
      box-shadow: var(--shadowSoft);
    }
    .footer.show{ display:block; }
    .footer .tag{ font-size: 13px; font-weight: 750; color: rgba(8,27,26,.70); margin-bottom: 10px; }
    .footer .nm{ font-size: 20px; font-weight: 1100; margin-bottom: 6px; color: rgba(8,27,26,.92); }
    .footer a{ display:block; font-size: 18px; font-weight: 1050; color: var(--accent); margin-top:6px; text-decoration:none; }
    .footer a.cal{ text-decoration: underline; }

    .hidden{ display:none!important; }
    .error{
      outline: 3px solid rgba(192,57,43,.18)!important;
      border-color: rgba(192,57,43,.55)!important;
    }
    .errtxt{
      grid-column: 1 / -1;
      font-size: 13px;
      font-weight: 800;
      color: #c0392b;
      margin-top: -6px;
    }

    /* =========================================================
       EMAIL MODAL (consent)
       ========================================================= */
    .modalBackdrop{
      position: fixed;
      inset: 0;
      background: rgba(2,10,10,.45);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 99999;
      padding: 18px;
    }
    .modalBackdrop.show{ display:flex; }
    .modal{
      width: min(560px, 100%);
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.10);
      background: #ffffff;
      box-shadow: 0 30px 70px rgba(0,0,0,.25);
      color: rgba(8,27,26,.92);
    }
    .modalTop{
      padding: 16px 16px 12px;
      border-bottom: 1px solid rgba(0,0,0,.06);
      background: linear-gradient(180deg,#ffffff,#f7fbfb);
    }
    .modalTitle{ margin:0; font-size: 18px; font-weight: 1100; }
    .modalSub{ margin: 8px 0 0; font-size: 13px; font-weight: 800; color: rgba(8,27,26,.70); line-height:1.35; }
    .modalBody{ padding: 14px 16px 16px; }
    .modalRow{ display:grid; grid-template-columns: 1fr; gap: 10px; margin-top: 10px; }
    .modalLabel{ font-size: 13px; font-weight: 950; color: rgba(8,27,26,.88); }
    .modalInput{
      height: 46px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.10);
      background: #ffffff;
      color: rgba(8,27,26,.92);
      padding: 10px 12px;
      outline:none;
      font-size: 15px;
      font-weight: 800;
    }
    .modalInput:focus{ border-color: rgba(11,143,143,.45); box-shadow: var(--ring); }
    .modalErr{ font-size: 12px; font-weight: 850; color: #b42318; display:none; }
    .modalErr.show{ display:block; }
    .modalBtns{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      margin-top: 14px;
    }
    .modalBtn{
      height: 44px;
      padding: 0 16px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.10);
      cursor:pointer;
      font-weight: 1100;
      color: rgba(8,27,26,.92);
      background:#fff;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
    }
    .modalBtn:hover{ transform: translateY(-1px); filter: brightness(1.01); }
    .modalBtn.primary{
      background: linear-gradient(180deg, rgba(17,181,181,.98), rgba(11,143,143,.96));
      color:#fff;
      border-color: rgba(11,143,143,.20);
    }

    /* Responsive */
    @media (max-width: 980px){
      .tiles{ grid-template-columns: 1fr; }
      .heroH{ font-size: 48px; }
    }
    @media (max-width: 820px){
      .navLinks{ display:none; }
      .heroInner{ padding-top: 74px; }
      .heroH{ font-size: 42px; }
    }
    @media (max-width: 760px){
      .grid{ grid-template-columns: 1fr; --right: 100%; }
      .input,.wrap,.box{ width:100%!important; }
      .hero{ min-height: 460px; }
      .heroInner{ min-height: 460px; }
      .brand{ min-width: auto; }
      .brandMark{ padding: 6px 8px; }
      .brandText{ font-size: 20px; }
    }
  </style>

  <!-- TOP NAV -->
  <div class="tscNavWrap">
    <div class="tscNav">

      <!-- BRAND (custom, original logo mark + wordmark) -->
      <div class="brand">
        <div>
          <div class="brandMark" aria-label="Brand">
            <div class="brandText"><span class="e">e</span><span class="b">Bacon</span></div>

            <!-- Original pig + helmet icon (not copied, unique SVG) -->
            <svg width="54" height="30" viewBox="0 0 54 30" aria-hidden="true">
              <!-- helmet -->
              <path d="M38 5c3.5 0 6.5 2.2 6.5 5.1v2.3c0 .8-.6 1.4-1.4 1.4H33.9c-.8 0-1.4-.6-1.4-1.4V10.1C32.5 7.2 35 5 38 5z"
                    fill="#F4C542" stroke="rgba(0,0,0,.35)" stroke-width="1"/>
              <path d="M33.4 12.5h10.9" stroke="rgba(0,0,0,.35)" stroke-width="1.2" stroke-linecap="round"/>
              <!-- helmet rim -->
              <path d="M32.9 10.4c.7-2.9 3.4-5 6.7-5 3.3 0 6.1 2.1 6.7 5"
                    fill="none" stroke="rgba(0,0,0,.35)" stroke-width="1.2" stroke-linecap="round"/>
              <!-- pig head -->
              <path d="M18 8c-6.6 0-12 4.3-12 9.6S11.4 27.2 18 27.2c6.7 0 12-4.3 12-9.6S24.7 8 18 8z"
                    fill="#F2A7B8" stroke="rgba(0,0,0,.35)" stroke-width="1.2"/>
              <!-- ears -->
              <path d="M10.8 10.5c-1.7-.1-3.2 1.4-3.2 3.2 0 .8.3 1.5.8 2.1"
                    fill="#F2A7B8" stroke="rgba(0,0,0,.35)" stroke-width="1.2" stroke-linecap="round"/>
              <path d="M25.2 10.5c1.7-.1 3.2 1.4 3.2 3.2 0 .8-.3 1.5-.8 2.1"
                    fill="#F2A7B8" stroke="rgba(0,0,0,.35)" stroke-width="1.2" stroke-linecap="round"/>
              <!-- eyes -->
              <circle cx="14.2" cy="16.4" r="1.1" fill="rgba(0,0,0,.55)"/>
              <circle cx="21.8" cy="16.4" r="1.1" fill="rgba(0,0,0,.55)"/>
              <!-- snout -->
              <path d="M18 18.1c-3.1 0-5.6 1.5-5.6 3.4s2.5 3.4 5.6 3.4 5.6-1.5 5.6-3.4-2.5-3.4-5.6-3.4z"
                    fill="#F7C3CF" stroke="rgba(0,0,0,.30)" stroke-width="1"/>
              <circle cx="16.2" cy="21.4" r="0.9" fill="rgba(0,0,0,.35)"/>
              <circle cx="19.8" cy="21.4" r="0.9" fill="rgba(0,0,0,.35)"/>
              <!-- tiny cheek -->
              <circle cx="11.8" cy="19.1" r="0.9" fill="rgba(255,255,255,.35)"/>
              <!-- link pig -> helmet (cute association) -->
              <path d="M28.8 11.2c2.2-.8 4.8-1.0 7.1-.2" fill="none" stroke="rgba(0,0,0,.20)" stroke-width="1.1" stroke-linecap="round"/>
            </svg>
          </div>

          <div class="brandTag">Trust Savings Estimator</div>
        </div>
      </div>

      <div class="navLinks" aria-label="Navigation">
        <a href="#calcSection">Calculator</a>
        <a href="#howItWorks">How it works</a>
        <a href="#resultsAnchor">Results</a>
      </div>

      <button class="navBtn" type="button" id="navStartBtn">Start <span class="arrow">›</span></button>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero" aria-label="Hero banner">
    <div class="heroInner">
      <div class="heroCopy">
        <h1 class="heroH">Estimate annual<br/>trust savings</h1>
        <p class="heroP">
          Provide key workforce inputs to generate a credible annual savings estimate, then submit to schedule a follow-up call.
        </p>
        <div class="heroCtas">
          <button class="heroBtn primary" type="button" id="heroStartBtn">Open calculator</button>
          <button class="heroBtn secondary" type="button" id="heroDemoBtn">Use example</button>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section class="section" id="howItWorks">
    <h2 class="sectionTitle">Getting started</h2>
    <p class="sectionSub">Use this estimator to generate a quick, credible savings range and book a follow-up call.</p>

    <div class="tiles" aria-label="Feature tiles">
      <div class="tile">
        <div class="tileTop">
          <div class="ico" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M7 7h10M7 12h10M7 17h7" stroke="rgba(8,27,26,.92)" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <p class="tileH">Simple inputs</p>
        </div>
        <p class="tileP">Only the essentials, validated and formatted to reduce errors.</p>
      </div>

      <div class="tile">
        <div class="tileTop">
          <div class="ico" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M4 19V5M4 19H20" stroke="rgba(8,27,26,.92)" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 15l3-4 3 2 4-6" stroke="rgba(8,27,26,.92)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <p class="tileH">Clear output</p>
        </div>
        <p class="tileP">A professional result card suitable for executive conversations.</p>
      </div>

      <div class="tile">
        <div class="tileTop">
          <div class="ico" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
              <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z" stroke="rgba(8,27,26,.92)" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </div>
          <p class="tileH">Consent-based email copy</p>
        </div>
        <p class="tileP">Ask if the user wants a copy sent to their email, then pass it to Flow.</p>
      </div>
    </div>
  </section>

  <!-- CALCULATOR -->
  <section class="section calcWrap" id="calcSection">
    <div class="calcCard">
      <div class="accentBar"></div>
      <div class="calcInner">

        <div class="calcHead">
          <div class="calcHeadIcon" aria-hidden="true">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M7 2h10a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z" stroke="rgba(8,27,26,.92)" stroke-width="2"/>
              <path d="M8 7h8M8 11h8M8 15h6" stroke="rgba(8,27,26,.92)" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3 class="calcTitle">Estimated Annual Trust Savings</h3>
            <p class="calcSub">Based on 2,080 hrs/year · (FICA 7.65% + GL + WC)</p>
          </div>
        </div>

        <!-- SECTION 1: COMPANY -->
        <div class="band" id="secCompany">
          <div class="bandHead">
            <span class="dot"></span>
            <div>
              <p class="bandTitle">Company</p>
              <p class="bandDesc">Enter your organization name for the submission record.</p>
            </div>
          </div>

          <div class="companyBlock">
            <label class="companyLabel">Company Name <span class="req">*</span></label>
            <input id="company" class="companyInput" autocomplete="organization" placeholder="Your company name">
            <div class="errtxt hidden" id="err_company">Company name is required.</div>
          </div>
        </div>

        <!-- SECTION 2: COUNTS -->
        <div class="band" id="secCounts">
          <div class="bandHead">
            <span class="dot"></span>
            <div>
              <p class="bandTitle">Workforce</p>
              <p class="bandDesc">Provide totals and PW split to calculate the estimate.</p>
            </div>
          </div>

          <div class="grid">
            <div class="label">Total # of Employees (Company) <span class="req">*</span></div>
            <input id="totalCompanyEEs" class="input" inputmode="numeric" placeholder="0">
            <div class="errtxt hidden" id="err_totalCompanyEEs">This field is required.</div>

            <div class="label">Total # of Field Employees <span class="req">*</span></div>
            <input id="fieldEEs" class="input" inputmode="numeric" placeholder="0">
            <div class="errtxt hidden" id="err_fieldEEs">This field is required.</div>

            <div class="label">Average # of PW Field Employees <span class="req">*</span>
              <span class="hint" id="pwEmpHint">Of your total field employees, how many perform PW work?</span>
            </div>
            <input id="pwFieldEEs" class="input" inputmode="numeric" placeholder="0">
            <div class="errtxt hidden" id="err_pwFieldEEs">This field is required.</div>

            <div class="label">PW Work % <span class="req">*</span>
              <span class="hint">Example: 30% PW vs 70% Private</span>
            </div>
            <div class="wrap">
              <span class="suffix">%</span>
              <input id="pwPercent" class="input padSuffix" inputmode="numeric" placeholder="0">
            </div>
            <div class="errtxt hidden" id="err_pwPercent">PW Work % is required (0–100).</div>
          </div>
        </div>

        <!-- SECTION 3: BENEFITS -->
        <div class="band" id="secBenefits">
          <div class="bandHead">
            <span class="dot"></span>
            <div>
              <p class="bandTitle">Benefits</p>
              <p class="bandDesc">This helps determine how remaining fringe should be treated.</p>
            </div>
          </div>

          <div class="grid">
            <div class="label">Do you provide field employees a 401(k), PTO, or Health? <span class="req">*</span></div>
            <div class="box" id="providesBenefitsBox">
              <div class="btns">
                <label><input class="radio" type="radio" name="providesBenefits" value="Yes"><span class="seg">Yes</span></label>
                <label><input class="radio" type="radio" name="providesBenefits" value="No"><span class="seg">No</span></label>
              </div>
            </div>
            <div class="errtxt hidden" id="err_providesBenefits">Please select Yes or No.</div>
          </div>

          <div id="benefitsMsgWrap" class="hidden">
            <div class="instructions" id="benefitsMsg"></div>
          </div>

          <div id="creditsWrap" class="hidden" style="margin-top:12px;">
            <div class="grid">
              <div class="label">Are you taking any fringe credits for these benefits? <span class="req">*</span></div>
              <div class="box" id="takesCreditsBox">
                <div class="btns">
                  <label><input class="radio" type="radio" name="takesCredits" value="Yes"><span class="seg">Yes</span></label>
                  <label><input class="radio" type="radio" name="takesCredits" value="No"><span class="seg">No</span></label>
                </div>
              </div>
              <div class="errtxt hidden" id="err_takesCredits">Please select Yes or No.</div>
            </div>

            <div id="creditsMsgWrap" class="hidden">
              <div class="instructions" id="creditsMsg"></div>
            </div>
          </div>
        </div>

        <!-- SECTION 4: RATES -->
        <div class="band" id="secFringe">
          <div class="bandHead">
            <span class="dot"></span>
            <div>
              <p class="bandTitle">Rates</p>
              <p class="bandDesc">Fringe is required. WC is optional and defaults to 5%.</p>
            </div>
          </div>

          <div class="grid">
            <div class="label">Average Remaining Fringes (Per Hour) <span class="req">*</span></div>
            <div class="wrap">
              <span class="prefix">$</span><span class="suffix">/Hr.</span>
              <input id="netFringe" class="input padPrefix padSuffix" inputmode="decimal" placeholder="0.00">
            </div>
            <div class="errtxt hidden" id="err_netFringe">This field is required.</div>

            <div class="label">Average WC Rate (Laborers Only)
              <span class="hint">If unknown, leave blank. A default rate of 5% will be used.</span>
            </div>
            <div class="wrap">
              <span class="suffix">%</span>
              <input id="wcPercent" class="input padSuffix" inputmode="numeric" placeholder="(default 5)">
            </div>
          </div>

          <div class="cta">
            <button class="btn" id="calcBtn" type="button">Calculate Trust Savings</button>
          </div>

          <div class="status" id="statusLine"></div>

          <div class="total" id="resultsCard">
            <div class="totalTop" id="resultsAnchor">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z" stroke="rgba(8,27,26,.82)" stroke-width="2" stroke-linejoin="round"/>
              </svg>
              <span>Estimated Annual Trust Savings</span>
            </div>
            <div class="val" id="trustSavingsValue">$0</div>
          </div>

          <!-- CONTACT REVEAL -->
          <div class="footer" id="contactFooter">
            <div class="tag">Please reach out with any questions you may have.</div>
            <div class="nm">Brad Wells</div>
            <a class="cal" id="calendarLink" href="https://meetings-na2.hubspot.com/brad659/15-min?uuid=b3caa5c1-901b-442b-a6e6-4be9d30aac16" target="_blank" rel="noopener">My-Calendar-Link</a>
            <a href="tel:16193565288">(619) 356-5288</a>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- EMAIL COPY MODAL -->
  <div class="modalBackdrop" id="emailModalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="emailModalTitle">
      <div class="modalTop">
        <h3 class="modalTitle" id="emailModalTitle">Would you like a copy by email?</h3>
        <p class="modalSub">If you select “Yes”, we’ll include your email with this submission.</p>
      </div>
      <div class="modalBody">
        <div class="modalRow">
          <div class="modalLabel">Send a copy of your submission to your email?</div>
          <div class="btns" style="justify-content:flex-start;">
            <label><input class="radio" type="radio" name="sendCopyChoice" value="Yes"><span class="seg">Yes</span></label>
            <label><input class="radio" type="radio" name="sendCopyChoice" value="No"><span class="seg">No</span></label>
          </div>
          <div class="modalErr" id="err_sendCopyChoice">Please select Yes or No.</div>
        </div>

        <div class="modalRow hidden" id="emailRow">
          <div class="modalLabel">Email address</div>
          <input id="copyEmail" class="modalInput" type="email" inputmode="email" autocomplete="email" placeholder="name@company.com">
          <div class="modalErr" id="err_copyEmail">Please enter a valid email address.</div>
        </div>

        <div class="modalBtns">
          <button class="modalBtn" type="button" id="emailModalCancelBtn">Cancel</button>
          <button class="modalBtn primary" type="button" id="emailModalContinueBtn">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  (function(){
    // === CONFIG ===
    const FLOW_URL =
      "https://9e44ec6cf803e40cabf4a32bc17720.03.environment.api.powerplatform.com:443/powerautomate/automations/direct/workflows/2a2a236af9d741f89b24a90b9074460c/triggers/manual/paths/invoke?api-version=1&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=0QSrr9-Xy4BVcf-uJmeW8nFwHLlp65tJrHNbzPyEfIE";

    const MEETING_URL =
      "https://meetings-na2.hubspot.com/brad659/15-min?uuid=b3caa5c1-901b-442b-a6e6-4be9d30aac16";

    const $ = (id) => document.getElementById(id);

    // === Helpers ===
    function cleanNum(raw){ return String(raw ?? "").replace(/[^0-9.]/g,""); }
    function toMoney2(raw){
      const cleaned = cleanNum(raw);
      if (!cleaned) return "";
      const n = Number(cleaned);
      if (!Number.isFinite(n)) return "";
      return n.toFixed(2);
    }
    function toInt(raw){
      const cleaned = String(raw ?? "").replace(/[^\d]/g,"");
      if (!cleaned) return NaN;
      const n = Number(cleaned);
      return Number.isFinite(n) ? n : NaN;
    }
    function toFloat(raw){
      const cleaned = cleanNum(raw);
      if (!cleaned) return NaN;
      const n = Number(cleaned);
      return Number.isFinite(n) ? n : NaN;
    }
    function fmtMoneyWhole(n){ return "$" + Math.round(n).toLocaleString("en-US"); }
    function scrollFocus(el){
      try{ el.scrollIntoView({behavior:"smooth", block:"center"}); setTimeout(()=> el.focus?.(), 250); }catch(e){}
    }
    function setStatus(text, spinning){
      const s = $("statusLine");
      if (!s) return;
      if (spinning){ s.innerHTML = '<span class="spin"></span>' + text; }
      else { s.textContent = text || ""; }
    }
    function showErr(id, on){
      const e = $(id);
      if (!e) return;
      e.classList.toggle("hidden", !on);
    }
    function markField(el, bad){
      if (!el) return;
      el.classList.toggle("error", !!bad);
    }
    function getRadioVal(name){
      const el = document.querySelector(`#tscSite input[name="${name}"]:checked`);
      return el ? el.value : "";
    }

    // === Nav / CTA scroll ===
    function jumpToCalc(){
      const el = $("calcSection");
      if (!el) return;
      try { el.scrollIntoView({behavior:"smooth", block:"start"}); } catch(e){}
      setTimeout(()=> { try{ $("company")?.focus?.(); }catch(e){} }, 250);
    }
    $("navStartBtn").addEventListener("click", jumpToCalc);
    $("heroStartBtn").addEventListener("click", jumpToCalc);

    // Example values
    $("heroDemoBtn").addEventListener("click", ()=>{
      jumpToCalc();
      setTimeout(()=>{
        const set = (id,val)=>{
          const el = $(id);
          if(el){ el.value=val; el.dispatchEvent(new Event("input",{bubbles:true})); }
        };
        set("company","Example Construction Co.");
        set("totalCompanyEEs","120");
        set("fieldEEs","80");
        set("pwFieldEEs","40");
        set("pwPercent","30");
        set("netFringe","4.50");
        set("wcPercent","");
      }, 350);
    });

    // Dynamic hint
    function updatePwHint(){
      const n = toInt($("fieldEEs").value);
      const hint = $("pwEmpHint");
      hint.textContent = (Number.isFinite(n) && n>0)
        ? `Of your (${n}) field employees, how many perform PW work?`
        : "Of your field employees, how many perform PW work?";
    }
    $("fieldEEs").addEventListener("input", updatePwHint);
    updatePwHint();

    // Money formatting
    $("netFringe").addEventListener("blur", ()=>{
      const v = toMoney2($("netFringe").value);
      if (v !== "") $("netFringe").value = v;
    });

    // Benefits logic
    const benefitsMsgWrap = $("benefitsMsgWrap");
    const benefitsMsg = $("benefitsMsg");
    const creditsWrap = $("creditsWrap");
    const creditsMsgWrap = $("creditsMsgWrap");
    const creditsMsg = $("creditsMsg");

    function resetCredits(){
      document.querySelectorAll('#tscSite input[name="takesCredits"]').forEach(x=>x.checked=false);
      creditsMsgWrap.classList.add("hidden");
      creditsMsg.textContent = "";
      showErr("err_takesCredits", false);
      $("takesCreditsBox").classList.remove("error");
    }
    function onProvidesBenefitsChange(val){
      benefitsMsgWrap.classList.remove("hidden");
      if (val === "No"){
        benefitsMsg.innerHTML = "Great. Please provide the <b>average fringe per hour</b> you pay field employees.";
        creditsWrap.classList.add("hidden");
        resetCredits();
        return;
      }
      benefitsMsg.innerHTML = "Thanks. One more question so we can guide your estimate correctly.";
      creditsWrap.classList.remove("hidden");
    }

    document.querySelectorAll('#tscSite input[name="providesBenefits"]').forEach(r=>{
      r.addEventListener("change", ()=>{
        showErr("err_providesBenefits", false);
        $("providesBenefitsBox").classList.remove("error");
        onProvidesBenefitsChange(r.value);
      });
    });

    document.querySelectorAll('#tscSite input[name="takesCredits"]').forEach(r=>{
      r.addEventListener("change", ()=>{
        showErr("err_takesCredits", false);
        $("takesCreditsBox").classList.remove("error");
        creditsMsgWrap.classList.remove("hidden");
        creditsMsg.innerHTML =
          (r.value === "Yes")
            ? "Great. Please provide any <b>remaining</b> <i>average fringe $ per hour</i> you pay field employees."
            : "You may be eligible for fringe credits. Please provide the <b>average fringe $ per hour</b> you pay field employees.";
      });
    });

    // Validation
    function validateAll(){
      ["company","totalCompanyEEs","fieldEEs","pwFieldEEs","pwPercent","netFringe"].forEach(id=>{
        markField($(id), false);
        showErr("err_"+id, false);
      });
      showErr("err_providesBenefits", false);
      $("providesBenefitsBox").classList.remove("error");
      showErr("err_takesCredits", false);
      $("takesCreditsBox").classList.remove("error");

      const company = ($("company").value || "").trim();
      if (!company){ markField($("company"), true); showErr("err_company", true); scrollFocus($("company")); return false; }

      for (const f of [{id:"totalCompanyEEs"},{id:"fieldEEs"},{id:"pwFieldEEs"}]){
        const v = toInt($(f.id).value);
        if (!Number.isFinite(v)){ markField($(f.id), true); showErr("err_"+f.id, true); scrollFocus($(f.id)); return false; }
      }

      const pwPctRaw = toFloat($("pwPercent").value);
      if (!Number.isFinite(pwPctRaw) || pwPctRaw < 0 || pwPctRaw > 100){
        markField($("pwPercent"), true);
        showErr("err_pwPercent", true);
        scrollFocus($("pwPercent"));
        return false;
      }

      const pb = getRadioVal("providesBenefits");
      if (!pb){ $("providesBenefitsBox").classList.add("error"); showErr("err_providesBenefits", true); scrollFocus($("providesBenefitsBox")); return false; }

      const tc = getRadioVal("takesCredits");
      if (pb === "Yes" && !tc){ $("takesCreditsBox").classList.add("error"); showErr("err_takesCredits", true); scrollFocus($("takesCreditsBox")); return false; }

      const fringe = toFloat($("netFringe").value);
      if (!Number.isFinite(fringe)){ markField($("netFringe"), true); showErr("err_netFringe", true); scrollFocus($("netFringe")); return false; }

      return true;
    }

    // Flow
    async function postToFlow(payload){
      const res = await fetch(FLOW_URL, {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify(payload)
      });
      if (!res.ok){
        const txt = await res.text().catch(()=> "");
        throw new Error(txt || ("HTTP " + res.status));
      }
      return true;
    }

    // Email modal
    const modalBackdrop = $("emailModalBackdrop");
    const emailRow = $("emailRow");
    const copyEmail = $("copyEmail");
    const errChoice = $("err_sendCopyChoice");
    const errEmail = $("err_copyEmail");
    const btnCancel = $("emailModalCancelBtn");
    const btnContinue = $("emailModalContinueBtn");

    function setModalErr(el, on){ if(!el) return; el.classList.toggle("show", !!on); }

    function openModal(){
      document.querySelectorAll('#tscSite input[name="sendCopyChoice"]').forEach(x=>x.checked=false);
      copyEmail.value = "";
      emailRow.classList.add("hidden");
      setModalErr(errChoice, false);
      setModalErr(errEmail, false);
      modalBackdrop.classList.add("show");
      modalBackdrop.setAttribute("aria-hidden","false");
    }
    function closeModal(){
      modalBackdrop.classList.remove("show");
      modalBackdrop.setAttribute("aria-hidden","true");
    }
    function isValidEmail(v){
      const s = String(v||"").trim();
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);
    }

    document.querySelectorAll('#tscSite input[name="sendCopyChoice"]').forEach(r=>{
      r.addEventListener("change", ()=>{
        setModalErr(errChoice, false);
        const val = getRadioVal("sendCopyChoice");
        if (val === "Yes"){
          emailRow.classList.remove("hidden");
          setTimeout(()=> { try{ copyEmail.focus(); }catch(e){} }, 50);
        } else {
          emailRow.classList.add("hidden");
          setModalErr(errEmail, false);
        }
      });
    });

    modalBackdrop.addEventListener("click", (e)=>{ if (e.target === modalBackdrop) closeModal(); });

    btnCancel.addEventListener("click", ()=>{
      closeModal();
      $("calcBtn").disabled = false;
      setStatus("", false);
    });

    let pendingPayload = null;

    $("calcBtn").addEventListener("click", async ()=>{
      if (!validateAll()) return;

      $("calcBtn").disabled = true;
      setStatus("Calculating…", true);

      // WC: blank => default 5%, and auto-fill field with 5
      const wcField = $("wcPercent");
      const wcRaw = (wcField.value || "").trim();
      const wcPct = (wcRaw === "" ? 5 : toFloat(wcRaw));
      const wc = (Number.isFinite(wcPct) ? wcPct : 5);
      if (wcRaw === "") wcField.value = "5";

      // Calculation
      const pwField = toInt($("pwFieldEEs").value);
      const pwPct = toFloat($("pwPercent").value) / 100;
      const fringe = toFloat($("netFringe").value);
      const savings = pwField * 2080 * pwPct * fringe * (0.0965 + (wc/100));

      $("trustSavingsValue").textContent = fmtMoneyWhole(savings);

      // Reveal contact card
      $("calendarLink").href = MEETING_URL;
      $("contactFooter").classList.add("show");

      // Scroll to results
      $("resultsCard").scrollIntoView({behavior:"smooth", block:"center"});

      // Build payload + NEW consent fields
      pendingPayload = {
        bw_CompanyName: ($("company").value || "").trim(),
        bw_TotalCompanyEmployees: toInt($("totalCompanyEEs").value),
        bw_TotalFieldEmployees: toInt($("fieldEEs").value),
        bw_PWFieldEmployees: toInt($("pwFieldEEs").value),
        bw_PWWorkPercent: toFloat($("pwPercent").value),
        bw_BenefitsProvided: (getRadioVal("providesBenefits") === "Yes"),
        bw_TakingFringeCredits: (getRadioVal("takesCredits") === "Yes"),
        bw_AverageRemainingFringe: fringe,
        bw_WCPercent: wc,
        bw_WCRateUsed: wc,
        bw_EstimatedAnnualSavings: Math.round(savings),

        // ✅ Add these to Flow schema
        bw_SendCopy: false,
        bw_Email: ""
      };

      setStatus("", false);
      openModal();
    });

    btnContinue.addEventListener("click", async ()=>{
      if (!pendingPayload){
        closeModal();
        $("calcBtn").disabled = false;
        return;
      }

      const choice = getRadioVal("sendCopyChoice");
      if (!choice){ setModalErr(errChoice, true); return; }
      setModalErr(errChoice, false);

      if (choice === "Yes"){
        const em = String(copyEmail.value || "").trim();
        if (!isValidEmail(em)){ setModalErr(errEmail, true); return; }
        setModalErr(errEmail, false);
        pendingPayload.bw_SendCopy = true;
        pendingPayload.bw_Email = em;
      } else {
        pendingPayload.bw_SendCopy = false;
        pendingPayload.bw_Email = "";
      }

      closeModal();

      try{
        setStatus("Submitting…", true);
        await postToFlow(pendingPayload);
        setStatus("Submitted. Redirecting to schedule your call…", false);

        // Redirect after submit
        setTimeout(()=>{ window.location.href = MEETING_URL; }, 900);

      } catch(e){
        console.error(e);
        setStatus("Something went wrong. Please try again.", false);
        $("calcBtn").disabled = false;
      } finally {
        pendingPayload = null;
      }
    });

    // Clear errors as user types
    ["company","totalCompanyEEs","fieldEEs","pwFieldEEs","pwPercent","netFringe","wcPercent"].forEach(id=>{
      $(id).addEventListener("input", ()=>{
        markField($(id), false);
        showErr("err_"+id, false);
      });
    });
    copyEmail.addEventListener("input", ()=> setModalErr(errEmail, false));

  })();
  </script>

</div>